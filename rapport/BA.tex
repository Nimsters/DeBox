\documentclass[a4paper]{article}

\input{Preamble}
\input{ProjectPreamble}

\title{\tit}

\begin{document}
\pagenumbering{Alph}
\begin{titlepage}
\maketitle
\thispagestyle{empty}
\end{titlepage}

\fancyfoot[]{}

\subfile{abstract.tex}

\pagebreak
\setcounter{tocdepth}{2}
\tableofcontents
\pagebreak
\lstlistoflistings
\pagebreak
\listoffigures
\clearpage
\fancyfoot[c]{Page \thepage\ of \pageref{LastBody}}
\pagenumbering{arabic}

\section{Introduction} %Remove splits into subsections
\subfile{introduction}
\clearpage

\section{Grammars}\label{grams}
\FIX{SOMETHING BRIEF ABOUT CONTEXTFREE GRAMMARS}
\ss{Propositional logic as a formal language}
\subfile{grammars_formal}

\ss{Grammar for proofs in natural language}\label{nlgram}
\subfile{grammars_proofs}

\section{Parsing and unparsing}\label{punp}
\subfile{parser}

\section{Validation}\label{vmod}
\ss{The validation module}
\ss{Decisions on specific implementation details}

\section{Evaluation}
\sss{Unittesting}

\section{Discussion}

\section{Conclusions}


\label{LastBody}
\pagebreak
\pagenumbering{roman}
\fancyfoot[c]{Page \thepage\ of \pageref{LastPage}}
%\nocite{*}
\bibliographystyle{plain}
\bibliography{Bibliography}
\label{LastBio}
\clearpage
\appendix
\section*{Appendices}\label{FirstApp}
\addcontentsline{toc}{section}{Appendices}
\titlelabel{\thetitle . \quad}
\renewcommand \thesubsection{\alph{subsection}}
\renewcommand \thesubsubsection{\roman{subsubsection}}

\section{Output from \tt{Main.sml}}\label{output}
\ss{Valid proof}
\sss{Monitor output}
\codeappout{imports/valid.out}
\sss{\tt{validation\_example.txt}}
\codeappout{../validation_example.txt}

\ss{Invalid proof}
\sss{Monitor output}
\codeappout{imports/invalid.out}
\sss{\tt{validation\_example\_invalid.txt}}
\codeappout{../validation_example_invalid.txt}

\section{Code}\label{code}
\ss{\tt{Proof.sml}}\label{Proof}
\codeapp{../Proof.sml}

\ss{\tt{Lexer.lex}}\label{Lexer}
\codeapp{../Lexer.lex}

\ss{\tt{Parser.grm}}\label{Parser}
\codeapp{../Parser.grm}

\ss{\tt{Main.sml}}\label{Main}
\codeapp{../Main.sml}

\ss{\tt{Validation.sml}}\label{Validation.sml}
\codeapp{../Validation.sml}

\ss{\tt{Validation.sig}}\label{Validation.sig}
\codeapp{../Validation.sig}

\ss{\tt{Auxiliaries.sml}}\label{Auxiliaries}
\codeapp{../Auxiliaries.sml}

\section{Tests}\label{tests}
\ss{\tt{Tests.sml}}\label{Test}
\codeapp{../Test.sml}

\ss{Output (with option \tt{full})}\label{testout}
\codeappout{imports/unitout}

\ss{\tt{unittest\_log.txt}}\label{log}
\codeappout{../unittest_log.txt}

\section{Misc. code}\label{misc}
\ss{Shell script for \bp\ conversion}
\codeapp{../bpconverter}

\label{LastPage} % NB!!! LastPage label!!!
\ss{Makefile}\label{mkfile}
\codeapp{../Makefile}
\label{LastApp}
\end{document}
